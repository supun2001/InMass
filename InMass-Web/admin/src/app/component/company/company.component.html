<app-dashboard></app-dashboard>
<div class="container">
    <div *ngIf="errorMzg" class="exp text-danger">
        <h2>{{errorMzg}}</h2>
    </div>
    <div *ngIf="!errorMzg">
        <!-- <app-com-create></app-com-create> -->
        <button class="btn btn-primary" routerLink="create">Create new company</button>
        <hr>
        <br>
        <h2>Company list</h2>
        <!-- Add this input field for filtering -->
        <mat-form-field class="example-filter">
            <input matInput (keyup)="applyFilter($event)" placeholder="Filter by Name" #input>
        </mat-form-field>
        <div class="mat-elevation-z8 table-container">
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

                <!-- ID Column -->
                <ng-container matColumnDef="_id">
                    <th mat-header-cell *matHeaderCellDef> ID </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text-id"> {{element._id}} </td>
                </ng-container>
                <!-- Name Column -->
                <ng-container matColumnDef="c_name">
                    <th mat-header-cell *matHeaderCellDef> Name </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text-name"> {{element.c_name}} </td>
                </ng-container>

                <!-- Logo Column -->
                <ng-container matColumnDef="c_logo">
                    <th mat-header-cell *matHeaderCellDef> Logo </th>
                    <td mat-cell *matCellDef="let element">
                        <img [src]="element.c_logo ? (c_image + element.c_logo) : ''" alt="">
                        <!-- {{element.c_logo}} -->
                    </td>
                </ng-container>

                <!-- Des Column -->
                <ng-container matColumnDef="c_description">
                    <th mat-header-cell *matHeaderCellDef> Description </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text"> {{element.c_description}} </td>
                </ng-container>

                <!-- Address Column -->
                <ng-container matColumnDef="c_address">
                    <th mat-header-cell *matHeaderCellDef> Address </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text"> {{element.c_address}} </td>
                </ng-container>

                <!-- FB Column -->
                <ng-container matColumnDef="c_facebook">
                    <th mat-header-cell *matHeaderCellDef> FaceBook URL </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text-url"> {{element.c_facebook}} </td>
                </ng-container>

                <!-- Linkedin Column -->
                <ng-container matColumnDef="c_linkedin">
                    <th mat-header-cell *matHeaderCellDef> LinkedIn URL </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text-url"> {{element.c_linkedin}} </td>
                </ng-container>

                <!-- Hr name Column -->
                <ng-container matColumnDef="hr_name">
                    <th mat-header-cell *matHeaderCellDef> HR manager name </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text"> {{element.hr_name}} </td>
                </ng-container>

                <!-- hr email Column -->
                <ng-container matColumnDef="hr_email">
                    <th mat-header-cell *matHeaderCellDef> HR manager email </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text-email"> {{element.hr_email}} </td>
                </ng-container>

                <!-- hr contact Column -->
                <ng-container matColumnDef="hr_contact">
                    <th mat-header-cell *matHeaderCellDef> HR manager contact number </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text"> {{element.hr_contact}} </td>
                </ng-container>

                <!-- action Column -->
                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef> Action </th>
                    <td mat-cell *matCellDef="let element" class="action">
                        <a [routerLink]="['/company/edit',element._id]" class="btn btn-success">Edit</a>
                        &nbsp;<br><br>
                        <a href="javascript:void(0);" class="btn btn-danger"
                            (click)="deleteUser(element._id)">Delete</a>
                        {{element.action}}
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of companies"></mat-paginator>
        </div>
    </div>
</div>

<app-footer></app-footer>