<app-dashboard></app-dashboard>
<div class="container">
    <div *ngIf="errorMzg" class="exp text-danger">
        <h2>{{errorMzg}}</h2>
    </div>
    <div *ngIf="!errorMzg">
        <!-- <app-com-create></app-com-create> -->
        <button class="btn btn-primary" routerLink="create">Create new job</button>
        <hr>
        <br>
        <h2>Job list</h2>
        <!-- Add this input field for filtering -->
        <mat-form-field class="example-filter">
            <input matInput (keyup)="applyFilter($event)" placeholder="Filter by Name" #input>
        </mat-form-field>
        <div class="mat-elevation-z8 table-container">
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

                <!-- ID Column -->
                <ng-container matColumnDef="_id">
                    <th mat-header-cell *matHeaderCellDef> ID </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text-id"> {{element._id}} </td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="j_title">
                    <th mat-header-cell *matHeaderCellDef> Job title </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text-name"> {{element.j_title}} </td>
                </ng-container>

                <!-- Post Column -->
                <ng-container matColumnDef="j_post">
                    <th mat-header-cell *matHeaderCellDef> Post </th>
                    <td mat-cell *matCellDef="let element">
                        <img [src]="element.j_post ? (j_image + element.j_post) : ''" alt="">
                        <!-- {{element.c_logo}} -->
                    </td>
                </ng-container>

                <!-- Des Column -->
                <ng-container matColumnDef="j_des">
                    <th mat-header-cell *matHeaderCellDef> Job Description </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text"> {{element.j_des}} </td>
                </ng-container>

                <!-- Company name Column -->
                <ng-container matColumnDef="j_company">
                    <th mat-header-cell *matHeaderCellDef> Company name </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text"> {{element.j_company}} </td>
                </ng-container>

                <!-- Location Column -->
                <ng-container matColumnDef="j_location">
                    <th mat-header-cell *matHeaderCellDef> Job location </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text-url"> {{element.j_location}} </td>
                </ng-container>

                <!-- Job requirment Column -->
                <ng-container matColumnDef="j_requirement">
                    <th mat-header-cell *matHeaderCellDef> Job requirment </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text-url"> {{element.j_requirement}} </td>
                </ng-container>

                <!-- Keyword Column -->
                <ng-container matColumnDef="j_keywords">
                    <th mat-header-cell *matHeaderCellDef> Keywords </th>
                    <td mat-cell *matCellDef="let element" class="wrap-text"> {{element.j_keywords}} </td>
                </ng-container>

                <!-- action Column -->
                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef> Action </th>
                    <td mat-cell *matCellDef="let element" class="action">
                        <a [routerLink]="['/jobs/edit',element._id]" class="btn btn-success">Edit</a>
                        &nbsp;<br><br>
                        <a href="javascript:void(0);" class="btn btn-danger"
                            (click)="deleteUser(element._id)">Delete</a>
                        {{element.action}}
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of companies"></mat-paginator>
        </div>
    </div>
</div>

<app-footer></app-footer>